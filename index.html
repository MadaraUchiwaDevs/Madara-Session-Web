<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Madara Session ID</title>

  <style>
    /* ===== FOND UCHIWA ===== */
    body {
      background:
        radial-gradient(circle at top left, rgba(180, 0, 0, 0.18), transparent 45%),
        linear-gradient(135deg, #000000, #140000);
      background-size: cover;
      background-position: center;
      color: #f2f2f2;
      font-family: "Segoe UI", sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      overflow: hidden;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background: url("https://upload.wikimedia.org/wikipedia/commons/6/6b/Sharingan_triple.svg")
        no-repeat center;
      background-size: 240px;
      opacity: 0.05;
      animation: sharingan 14s linear infinite;
      pointer-events: none;
    }

    @keyframes sharingan {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    .card {
      background: rgba(10, 0, 0, 0.75);
      border: 1px solid rgba(255, 0, 0, 0.25);
      box-shadow: 0 0 35px rgba(120, 0, 0, 0.45);
      backdrop-filter: blur(8px);
      padding: 38px;
      border-radius: 20px;
      width: 360px;
      text-align: center;
      z-index: 1;
    }

    h1 { color: #d10000; letter-spacing: 2px; }
    h3 { font-size: 14px; color: #d0d0d0; }
    p  { font-size: 14px; color: #bdbdbd; }

    input {
      width: 100%;
      padding: 11px;
      border-radius: 9px;
      border: 1px solid rgba(255, 0, 0, 0.3);
      background: #0b0000;
      color: white;
      font-size: 15px;
      margin-bottom: 15px;
    }

    button {
      width: 100%;
      padding: 12px;
      background: linear-gradient(135deg, #5c0000, #b00000);
      border: none;
      border-radius: 9px;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }

    textarea {
      width: 100%;
      height: 120px;
      margin-top: 10px;
      background: #0b0000;
      color: #fff;
      border: 1px solid rgba(255,0,0,.4);
      border-radius: 8px;
      padding: 8px;
    }

    #res {
      margin-top: 18px;
      color: #ff4d4d;
      font-size: 14px;
      word-break: break-all;
    }

    footer {
      margin-top: 22px;
      font-size: 12px;
      color: #777;
    }
  </style>
</head>

<body>

<div class="card">
  <h1>üßø MADARA SESSION</h1>
  <h3>Bienvenue <b>Armand Lonz</b></h3>

  <p>
    G√©n√©rateur officiel de Session ID WhatsApp<br>
    <b>Madara Uchiwa Anna.D Bot V2</b>
  </p>

  <input id="num" placeholder="+242XXXXXXXX">
  <button onclick="gen()">G√âN√âRER LA SESSION</button>

  <div id="res"></div>

  <footer>¬© 2026 ‚Ä¢ MadaraUchiwaDevs</footer>
</div>

<script>
async function gen() {
  const num = document.getElementById("num").value;
  const res = document.getElementById("res");

  if (!num.startsWith("+")) {
    res.innerHTML = "‚ùå Le num√©ro doit commencer par + (ex: +242‚Ä¶)";
    return;
  }

  res.innerHTML = "‚è≥ G√©n√©ration du code WhatsApp...";

  const r = await fetch("/session", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ number: num })
  });

  const d = await r.json();

  if (d.pairing_code) {
    res.innerHTML =
      "üì≤ <b>CODE WHATSAPP</b><br><br>" +
      "<b style='font-size:18px'>" + d.pairing_code + "</b><br><br>" +
      "üëâ WhatsApp ‚Üí Appareils connect√©s<br>" +
      "‚è≥ Attente de validation...";
  }

  if (d.session_id) {
    res.innerHTML = `
      üîê <b>SESSION ID G√âN√âR√âE</b><br>
      <textarea id="sid">${d.session_id}</textarea>
      <button onclick="copy()">üìã COPIER LA SESSION</button>
      <p style="color:#ff7777;font-size:12px">
        ‚ö†Ô∏è Ne partage jamais ta Session ID
      </p>
    `;
  }

  if (d.error) res.innerHTML = "‚ùå " + d.error;
}

function copy() {
  const t = document.getElementById("sid");
  t.select();
  document.execCommand("copy");
  alert("‚úÖ Session copi√©e !");
}
</script>

</body>
</html>



